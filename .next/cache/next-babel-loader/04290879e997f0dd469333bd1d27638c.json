{"ast":null,"code":"var _jsxFileName = \"/Users/mj/repo/siliconrhino/components/search/Search.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { DebounceInput } from 'react-debounce-input';\nimport axios from 'axios';\nconst SearchWrapper = styled.div`\n`;\nconst SearchParamButton = styled.div`\n  display: grid;\n  justify-content: center;\n  place-items: center;\n  font-weight: bold;\n  border: 1px solid black;\n  box-shadow: 0 0 0 0 black;\n  background: ${props => props.isSelected ? 'blue' : 'none'};\n`;\nconst SearchInput = styled(DebounceInput)`\n  width: 50%;\n  border: 1px solid black;\n`;\nconst PageNumberButtonWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nconst Search = () => {\n  const {\n    0: pageNo,\n    1: selectPageNo\n  } = useState(1);\n  const {\n    0: pageSize,\n    1: setPageSize\n  } = useState(10);\n  const {\n    0: searchQ,\n    1: setSearchQ\n  } = useState('');\n  const {\n    0: events,\n    1: setEvents\n  } = useState();\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    getEvents();\n  }, []);\n  useEffect(() => {\n    getEvents();\n  }, [pageSize, pageNo, searchQ]);\n\n  const getEvents = async () => {\n    setLoading(true);\n    const res = await axios.get(`https://mock-api.drinks.test.siliconrhino.io/events?page=${pageNo}&pageSize=${pageSize}&search=${searchQ}`);\n    const events = res.data;\n    setEvents(events);\n    return true;\n  };\n\n  return __jsx(SearchWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(SearchInput, {\n    minLength: 1,\n    debounceTimeout: 300,\n    placeholder: 'asdf' //@ts-ignore\n    ,\n    onChange: event => setSearchQ(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), isLoading ? __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"loading...\") : events && events.map(event => {\n    __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, event.title);\n  }), __jsx(PageNumberButtonWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Current page:\"), __jsx(SearchParamButton, {\n    isSelected: pageNo === 1,\n    onClick: () => selectPageNo(1),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"1\"), __jsx(SearchParamButton, {\n    isSelected: pageNo === 2,\n    onClick: () => selectPageNo(2),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"2\"), __jsx(SearchParamButton, {\n    isSelected: pageNo === 3,\n    onClick: () => selectPageNo(3),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"3\"), __jsx(SearchParamButton, {\n    isSelected: pageNo === 4,\n    onClick: () => selectPageNo(4),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"4\"), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Items per page:\"), __jsx(SearchParamButton, {\n    isSelected: pageSize === 10,\n    onClick: () => setPageSize(10),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"10\"), __jsx(SearchParamButton, {\n    isSelected: pageSize === 15,\n    onClick: () => setPageSize(15),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"15\"), __jsx(SearchParamButton, {\n    isSelected: pageSize === 20,\n    onClick: () => setPageSize(20),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"20\")));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/mj/repo/siliconrhino/components/search/Search.tsx"],"names":["styled","useState","useEffect","DebounceInput","axios","SearchWrapper","div","SearchParamButton","props","isSelected","SearchInput","PageNumberButtonWrapper","Search","pageNo","selectPageNo","pageSize","setPageSize","searchQ","setSearchQ","events","setEvents","isLoading","setLoading","getEvents","res","get","data","event","target","value","map","title"],"mappings":"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","sourcesContent":["import styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport {DebounceInput} from 'react-debounce-input'\nimport axios from 'axios'\nimport { Event } from '../../pages/e/event.types'\nconst SearchWrapper = styled.div`\n`\n\nconst SearchParamButton = styled.div<{isSelected: boolean}>`\n  display: grid;\n  justify-content: center;\n  place-items: center;\n  font-weight: bold;\n  border: 1px solid black;\n  box-shadow: 0 0 0 0 black;\n  background: ${(props) => props.isSelected ? 'blue' : 'none'};\n`\n\nconst SearchInput = styled(DebounceInput)`\n  width: 50%;\n  border: 1px solid black;\n`\n\nconst PageNumberButtonWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`\n\n\n\nconst Search = () => {\n  const [pageNo, selectPageNo] = useState(1)\n  const [pageSize, setPageSize] = useState(10)\n  const [searchQ, setSearchQ] = useState('')\n  const [events, setEvents] = useState<Event[]>()\n  const [isLoading, setLoading] = useState(false)\n  useEffect(() => {\n    getEvents()\n  }, [])\n  useEffect(() =>\n  {\n    getEvents()\n  }, [pageSize, pageNo, searchQ])\n\n  const getEvents = async () => {\n    setLoading(true)\n    const res = await axios.get(`https://mock-api.drinks.test.siliconrhino.io/events?page=${pageNo}&pageSize=${pageSize}&search=${searchQ}`)\n    const events: Event[] = res.data\n    setEvents(events)\n    return true\n  }\n  return (\n    <SearchWrapper>\n      <SearchInput\n        minLength={1}\n        debounceTimeout={300}\n        placeholder={'asdf'}\n        //@ts-ignore\n        onChange={event => setSearchQ(event.target.value)}\n      />\n      {\n        isLoading ?\n        <div>loading...</div>\n        :\n        events && events.map((event) => {\n          <div>{event.title}</div>\n        })\n      }\n      <PageNumberButtonWrapper>\n        <div>Current page:</div>\n        <SearchParamButton isSelected={pageNo === 1} onClick={() => selectPageNo(1)}>1</SearchParamButton>\n        <SearchParamButton isSelected={pageNo === 2} onClick={() => selectPageNo(2)}>2</SearchParamButton>\n        <SearchParamButton isSelected={pageNo === 3} onClick={() => selectPageNo(3)}>3</SearchParamButton>\n        <SearchParamButton isSelected={pageNo === 4} onClick={() => selectPageNo(4)}>4</SearchParamButton>\n        <div>Items per page:</div>\n        <SearchParamButton isSelected={pageSize === 10} onClick={() => setPageSize(10)}>10</SearchParamButton>\n        <SearchParamButton isSelected={pageSize === 15} onClick={() => setPageSize(15)}>15</SearchParamButton>\n        <SearchParamButton isSelected={pageSize === 20} onClick={() => setPageSize(20)}>20</SearchParamButton>\n      </PageNumberButtonWrapper>\n    </SearchWrapper>\n  )\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}